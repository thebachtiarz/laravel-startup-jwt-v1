$(document).on('click', '.pushMenu', function () { let comm = $(this).attr('data-comm'); if (comm == 'deldflag') { $(this).attr("data-comm", "adddflag"); $('.noAuthSidebar').removeClass('d-flex') } else { $(this).attr("data-comm", "deldflag"); $('.noAuthSidebar').addClass('d-flex') } });
function mediascreen(x) { if (x.matches) { $('.dropdown-menu').removeClass('dropdown-menu-xl'); $('.dropdown-menu').addClass('dropdown-menu-lg') } else { $('.dropdown-menu').removeClass('dropdown-menu-lg'); $('.dropdown-menu').addClass('dropdown-menu-xl') } }
var x = window.matchMedia("(max-width: 600px)"); mediascreen(x); x.addListener(mediascreen)
const Request = (segment) => {
    var url = $(location).attr('href'), split = url.split("/"), resSegment = split[2 + segment]; return resSegment ? resSegment : null;
}

const sidebarLinkCall = () => {
    axios.get(`/api/allowed-link`, { params: { _type: 'sidebar' }, headers: { 'Accept': 'application/json', 'Authorization': `Bearer ${credentialKeyTake()}` } }).then(response => { sidebarLinkBar(response.data.response_data[0]) }).catch(error => toastError(error));
}
const sidebarLinkBar = (data) => {
    let link = `<ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">`;
    let dataSort = data.sort((a, b) => a.index.localeCompare(b.index));
    dataSort.forEach(sidebar => { link += `<li class="nav-item"><a href="${sidebar.link}" class="nav-link userLink${(Request(1) == sidebar.link.substr(1)) ? ' active' : ''}"><i class="${sidebar.icon}"></i>&ensp;<p class="text-sm">${sidebar.name}</p></a></li>` });
    link += `<li class="nav-item"><a class="nav-link appLogout"><i class="fas fa-sign-out-alt"></i>&ensp;<p class="text-sm">Sign Out</p></a></li>`;
    link += `</ul>`;
    $('#sidebarLink').html(link);
}
$(sidebarLinkCall());
